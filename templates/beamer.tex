\documentclass[10pt]{beamer}
\usepackage{../sty/cohsh-common}
\usetheme{Berkeley}
\usecolortheme[RGB={0,91,152}]{structure}

\AtBeginSection[]{
    \begin{frame}
        \vfill
        \centering
        \begin{beamercolorbox}[sep=8pt,center,shadow=true,rounded=true]{title}
            \usebeamerfont{title}\insertsectionhead\par%
        \end{beamercolorbox}
        \vfill
    \end{frame}
}

\begin{luacode*}
    local core = require("../utility/core")
    local input = require("./input")

    maketitle = require("../utility/maketitle")
    maketitle:set()
\end{luacode*}

\graphicspath{{./fig/}}

\begin{document}

    \begin{luacode*}
        maketitle:execute()
    \end{luacode*}

    \begin{frame}{Contents}
        \tableofcontents
    \end{frame}

    \begin{luacode*}
        local core = require("../utility/core")
        local load = require("../utility/load")
        local subfile = load.SubFile:new("sub", 0, 10)
        subfile:beamer()
    \end{luacode*}

    \bibliography{main}
    \bibliographystyle{unsrt}

\end{document}
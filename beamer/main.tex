\documentclass[10pt]{beamer}
\usetheme{Berkeley}
\usecolortheme[RGB={0,91,152}]{structure}

\usepackage{sty/cohsh-common}
\usepackage{sty/cohsh-science}
\usepackage{sty/cohsh-atomic}

\graphicspath{{./fig/}}

\AtBeginSection[]{
    \begin{frame}
        \vfill
        \centering
        \begin{beamercolorbox}[sep=8pt,center,shadow=true,rounded=true]{title}
            \usebeamerfont{title}\insertsectionhead\par%
        \end{beamercolorbox}
        \vfill
    \end{frame}
}

\begin{luacode*}
    function io.file_exists(path)
        local fh = io.open(path, "rb")
        if fh then fh:close() end
        return fh ~= nil
    end
\end{luacode*}

\title{}
%\subtitle{}
\institute{}
\author{}
\date{\today}

\begin{document}

\begin{luacode*}
    for i = 0 , 10 do
        local path = "sub/"..i..".tex"
        if io.file_exists(path) then
            tex.sprint("\\subfile{sub/"..i.."}")
        end
    end
\end{luacode*}

\subfile{sub/appendix}

\end{document}
